<div *ngIf="appLoading; else allApp" style="height: 100vh; display: flex; align-self: center;">
  <div class="d-flex align-self-center">
    <div class="spinner-border" style="color: #2f353a;" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</div>

<ng-template #allApp>
  <app-header
    [navbarBrandRouterLink]="['/dashboard']"
    [fixed]="false"
    [navbarBrandFull]="{src: 'assets/img/brand/logo.svg', width: 89, height: 25, alt: 'CoreUI Logo'}"
    [navbarBrandMinimized]="{src: 'assets/img/brand/sygnet.svg', width: 30, height: 30, alt: 'CoreUI Logo'}"
    [sidebarToggler]="'lg'"
    [asideMenuToggler]="false">

    <div style="float: left">
      <button
        [class.hiddenButton]="menuOverflow$|async"
        class="btn btn-outline-secondary scrollButtons"
        (click)="scrollLeft()">
        <i class="fa fa-arrow-left" aria-hidden="true"></i>
      </button>
    </div>


    <div #widgetsContent class="modules-list">
      <button *ngFor="let module of availableModules"
              class="btn btn-outline-secondary"
              (click)="moduleClicked(module.nodeName, module.key, module.title)">{{module.title}}</button>
    </div>

    <div style="float: right">
      <button
        [class.hiddenButton]="menuOverflow$|async"
        class="btn btn-outline-secondary scrollButtons"
        (click)="scrollRight()">
        <i class="fa fa-arrow-right" aria-hidden="true"></i>
      </button>
    </div>
    <ul class="nav navbar-nav ml-auto"></ul>
  </app-header>


  <div class="app-body">
    <app-sidebar #sidebar [fixed]="true" [display]="'lg'">
      <app-sidebar-nav-custom
        [navData]="moduleMenuChildren"
        [activePage]="activePage"
        (onNavItemClicked)="navItemClicked($event)"
        (onNavigationLoaded)="navigationLoaded($event)"></app-sidebar-nav-custom>
    </app-sidebar>

    <main class="main">

      <app-breadcrumbs
        [currentModule]="activeModule"
        [modulePages]="activeModulePages"></app-breadcrumbs>

      <div class="container-fluid">
        <app-form-loader [moduleKey]="moduleKey" [configPath]="configPath"></app-form-loader>
      </div>
    </main>

  </div>
  <app-footer>

  </app-footer>
</ng-template>
